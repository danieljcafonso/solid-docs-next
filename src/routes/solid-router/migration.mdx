---
title: Migration from v0.9.x
---

v0.10.0 brings some big changes to support the future of routing including Islands/Partial Hydration hybrid solutions. Most notably there is no Context API available in non-hydrating parts of the application.

The biggest changes are around removed APIs that need to be replaced.

## `<Outlet>`, `<Routes>`, `useRoutes`

This is no longer used and instead will use `props.children` passed from into the page components for outlets. This keeps the outlet directly passed from its page and avoids oddness of trying to use context across Islands boundaries. Nested `<Routes>` components inherently cause waterfalls and are `<Outlets>` themselves so they have the same concerns.

Keep in mind no `<Routes>` means the `<Router>` API is different. The `<Router>` acts as the `<Routes>` component and its children can only be `<Route>` components. Your top-level layout should go in the root prop of the router [as shown above](#configure-your-routes)

## `element` prop removed from `Route`

Related without Outlet component it has to be passed in manually. At which point the `element` prop has less value. Removing the second way to define route components to reduce confusion and edge cases.

## `data` functions & `useRouteData`

These have been replaced by a load mechanism. This allows link hover preloads (as the load function can be run as much as wanted without worry about reactivity). It support deduping/cache APIs which give more control over how things are cached. It also addresses TS issues with getting the right types in the Component without `typeof` checks.

That being said you can reproduce the old pattern largely by turning off preloads at the router level and then injecting your own Context:

```js
import { lazy } from "solid-js";
import { Route } from "@solidjs/router";

const User = lazy(() => import("./pages/users/[id].js"));

// load function
function loadUser({ params, location }) {
	const [user] = createResource(() => params.id, fetchUser);
	return user;
}

// Pass it in the route definition
<Router preload={false}>
	<Route path="/users/:id" component={User} load={loadUser} />
</Router>;
```

And then in your component taking the page props and putting them in a Context.

```js
function User(props) {
	<UserContext.Provider value={props.data}>
		{/* my component content  */}
	</UserContext.Provider>;
}

// Somewhere else
function UserDetails() {
	const user = useContext(UserContext);
	// render stuff
}
```
